<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="managerOrder">
	<select id="totalCount" resultType="_int">
		select count(*) cnt from m_order_tbl
	</select>
	<select id="selectList" parameterType="kr.co.subway.common.SearchVO" resultType="kr.co.subway.managerOrder.vo.ManagerOrderVO">
  		select 
  			rnum,
  			m_order_idx as mOrderIdx,
	  		m_order_manager_id as mOrderManagerId,
	  		m_order_title as mOrderTitle,
	  		m_order_del_date as mOrderDelDate,
	  		m_order_state as mOrderState,
	  		TO_CHAR(m_order_date,'YYYY-MM-DD HH24:mi:ss') as mOrderDate
	  	from ( select 
	  				rownum rnum,
	  				mo.* 
	  			from (select * from m_order_tbl order by 6 desc) mo
  			 ) 
  		where 
  			rnum between #{start} and #{end}
  	</select>
</mapper>
