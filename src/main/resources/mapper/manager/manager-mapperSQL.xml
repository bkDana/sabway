<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mgr">
	<insert id="enrollMgr" parameterType="mgr">
		insert into manager values(seq_mgr_no.nextval,#{mgrId}, #{mgrPw}, #{mgrName}, #{mgrTel}, #{mgrPost}, #{mgrAddr}, #{mgrLevel}, #{mgrStatus}, sysdate, #{mgrAddrCode}, #{mgrBossName})
	</insert>
	<select id="mgrList" resultType="mgr">
		select mgr_no as mgrNo
		,mgr_id as mgrId
		,mgr_pw as mgrPw
		,mgr_name as mgrName
		,mgr_tel as mgrTel
		,mgr_post as mgrPost
		,mgr_addr as mgrAddr
		,mgr_level as mgrLevel
		,mgr_status as mgrStatus
		,mgr_enroll_date as mgrEnrollDate
		,mgr_addr_code as mgrAddrCode
		,mgr_boss_name as mgrBossName
		from manager
	</select>
	<select id="login" parameterType="string" resultType="mgr">
		select mgr_no as mgrNo
		,mgr_id as mgrId
		,mgr_pw as mgrPw
		,mgr_name as mgrName
		,mgr_tel as mgrTel
		,mgr_post as mgrPost
		,mgr_addr as mgrAddr
		,mgr_level as mgrLevel
		,mgr_status as mgrStatus
		,mgr_enroll_date as mgrEnrollDate
		,mgr_addr_code as mgrAddrCode
		,mgr_boss_name as mgrBossName
		from manager
		where mgr_id = #{mgrId}
	</select>
	<update id="mgrUpdate" parameterType="mgr">
		update manager set mgr_status = #{mgrStatus} where mgr_name = #{mgrName}
	</update>
	
	<select id="searchBossName" parameterType="string" resultType="mgr">
		select mgr_no as mgrNo
		,mgr_id as mgrId
		,mgr_pw as mgrPw
		,mgr_name as mgrName
		,mgr_tel as mgrTel
		,mgr_post as mgrPost
		,mgr_addr as mgrAddr
		,mgr_level as mgrLevel
		,mgr_status as mgrStatus
		,mgr_enroll_date as mgrEnrollDate
		,mgr_addr_code as mgrAddrCode
		,mgr_boss_name as mgrBossName
		from manager
		where mgr_boss_name like '%'||#{text}||'%'
	</select>
	<select id="searchAddr" parameterType="string" resultType="mgr">
		select mgr_no as mgrNo
		,mgr_id as mgrId
		,mgr_pw as mgrPw
		,mgr_name as mgrName
		,mgr_tel as mgrTel
		,mgr_post as mgrPost
		,mgr_addr as mgrAddr
		,mgr_level as mgrLevel
		,mgr_status as mgrStatus
		,mgr_enroll_date as mgrEnrollDate
		,mgr_addr_code as mgrAddrCode
		,mgr_boss_name as mgrBossName
		from manager
		where mgr_addr like '%'||#{text}||'%'
	</select>	
	<select id="selectStatus" parameterType="_int" resultType="mgr">
		select mgr_no as mgrNo
		,mgr_id as mgrId
		,mgr_pw as mgrPw
		,mgr_name as mgrName
		,mgr_tel as mgrTel
		,mgr_post as mgrPost
		,mgr_addr as mgrAddr
		,mgr_level as mgrLevel
		,mgr_status as mgrStatus
		,mgr_enroll_date as mgrEnrollDate
		,mgr_addr_code as mgrAddrCode
		,mgr_boss_name as mgrBossName
		from manager
		where mgr_status = #{status}
	</select>
	<select id="searchStatusAddr" parameterType="mgr" resultType="mgr">
		select mgr_no as mgrNo
		,mgr_id as mgrId
		,mgr_pw as mgrPw
		,mgr_name as mgrName
		,mgr_tel as mgrTel
		,mgr_post as mgrPost
		,mgr_addr as mgrAddr
		,mgr_level as mgrLevel
		,mgr_status as mgrStatus
		,mgr_enroll_date as mgrEnrollDate
		,mgr_addr_code as mgrAddrCode
		,mgr_boss_name as mgrBossName
		from manager
		where mgr_addr like '%'||#{mgrAddr}||'%' and mgr_status = #{mgrStatus}
	</select>
	<select id="searchStatusName" parameterType="mgr" resultType="mgr">
		select mgr_no as mgrNo
		,mgr_id as mgrId
		,mgr_pw as mgrPw
		,mgr_name as mgrName
		,mgr_tel as mgrTel
		,mgr_post as mgrPost
		,mgr_addr as mgrAddr
		,mgr_level as mgrLevel
		,mgr_status as mgrStatus
		,mgr_enroll_date as mgrEnrollDate
		,mgr_addr_code as mgrAddrCode
		,mgr_boss_name as mgrBossName
		from manager
		where mgr_boss_name like '%'||#{mgrBossName}||'%' and mgr_status = #{mgrStatus}
	</select>
</mapper>
